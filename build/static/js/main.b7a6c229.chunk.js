(this["webpackJsonpsocial-cool"]=this["webpackJsonpsocial-cool"]||[]).push([[0],{176:function(e,c,t){"use strict";t.r(c);var n=t(61),a=t.n(n),l=t(13),i=t(0),o=t.n(i),s=t(190),j=t(41),r=t(123),u=(t(177),t(162),r.a.initializeApp({apiKey:"AIzaSyBKVsNm8RP9VKYBgEwmyRQsitx9dncLuaI",authDomain:"social-cool-f16ba.firebaseapp.com",projectId:"social-cool-f16ba",storageBucket:"social-cool-f16ba.appspot.com",messagingSenderId:"578558980743",appId:"1:578558980743:web:4668ba80e8df3c24087e22"})),b=r.a.firestore(),d=u.auth(),O=r.a,h=t(14),x=t(3);var m=function(){var e=Object(h.f)(),c=o.a.useState(""),t=Object(l.a)(c,2),n=t[0],a=t[1],i=o.a.useState(null),r=Object(l.a)(i,2),u=r[0],b=r[1];function O(e,c){var t=c.name;a(t)}return o.a.useEffect((function(){d.onAuthStateChanged((function(e){b(e)}))}),[]),Object(x.jsxs)(s.a,{secondary:!0,pointing:!0,widths:4,children:[Object(x.jsx)(s.a.Item,{as:j.b,to:"/accounts",name:"accounts",onClick:O,active:"accounts"===n,children:"\u5e33\u6236"}),Object(x.jsx)(s.a.Item,{as:j.b,to:"/balances",name:"balances",onClick:O,active:"balances"===n,children:"\u6536\u652f"}),Object(x.jsx)(s.a.Menu,{position:"right",children:u?Object(x.jsx)(s.a.Item,{name:"logout",onClick:function(){d.signOut().then((function(){e.push("/login")}))}}):Object(x.jsx)(s.a.Item,{name:"login",as:j.b,to:"/login",onClick:O,children:"Login"})})]})},f=t(144),p=t(32),g=t(196),v=t(197),C=t(113),S=t(199),k=t(188),w=t(192),y=t(191),I=t(189),A=t(194),F=t(87),R=function(e){return new Intl.NumberFormat("en-US",{currency:"USD"}).format(e)};function z(){var e=d.currentUser,c=o.a.useState(!1),t=Object(l.a)(c,2),n=t[0],a=t[1],i=o.a.useState(""),s=Object(l.a)(i,2),j=s[0],r=s[1],u=o.a.useState(""),h=Object(l.a)(u,2),m=h[0],z=h[1],E=o.a.useState(""),D=Object(l.a)(E,2),B=D[0],V=D[1],P=o.a.useState(""),U=Object(l.a)(P,2),K=U[0],N=U[1],q=o.a.useState([]),J=Object(l.a)(q,2),L=J[0],M=J[1];function W(){a(!1),z(""),V(""),N("")}o.a.useEffect((function(){var c=b.collection("accounts");e&&(c=c.where("user","==",e.email)),c=c.onSnapshot((function(e){var c=e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})})),t=[],n=0,l=[];0==c.length&&(l.push(Object(x.jsx)(g.a.Column,{children:Object(x.jsxs)(v.a,{textAlign:"center",onClick:function(){a(!0)},children:[Object(x.jsx)(C.a,{attached:"top",children:"\u65b0\u589e"}),Object(x.jsx)(S.a,{children:"+"})]})},"0")),t.push(Object(x.jsx)(g.a.Row,{children:l},n)));var i,o=Object(f.a)(c);try{var s=function(){var e=i.value;0==n&&l.push(Object(x.jsx)(g.a.Column,{children:Object(x.jsxs)(v.a,{textAlign:"center",onClick:function(){a(!0)},children:[Object(x.jsx)(C.a,{attached:"top",children:"\u65b0\u589e"}),Object(x.jsx)(S.a,{children:"+"})]})},"0")),l.push(Object(x.jsx)(g.a.Column,{children:Object(x.jsxs)(v.a,{textAlign:"center",onClick:function(){a(!0),r(e.id),z(e.name),N(e.prior),V(e.balance)},children:[Object(x.jsx)(C.a,{color:"teal",attached:"top",children:e.name}),Object(x.jsx)(S.a,{children:R(e.balance)})]})},n+1)),n%3!=1&&n!=c.length-1||(t.push(Object(x.jsx)(g.a.Row,{children:l},n)),l=[]),n++};for(o.s();!(i=o.n()).done;)s()}catch(j){o.e(j)}finally{o.f()}M(t)}))}),[]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(k.a,{children:[e&&e.email,Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(g.a,{columns:3,children:L})}),Object(x.jsxs)(w.a,{closeIcon:!0,open:n,onClose:function(){a(!1),W()},children:[Object(x.jsx)(S.a,{children:"\u7de8\u8f2f\u5e33\u6236"}),Object(x.jsx)(w.a.Content,{children:Object(x.jsxs)(y.a,{size:"large",children:[Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u5e33\u6236\u540d\u7a31"}),Object(x.jsx)("input",{value:m,onChange:function(e){z(e.target.value)},placeholder:"please enter your name"})]}),Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u9918\u984d"}),Object(x.jsx)("input",{type:"number",value:B,onChange:function(e){V(e.target.value)},placeholder:"please enter your amount"})]}),Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u9806\u4f4d"}),Object(x.jsx)(I.a,{selection:!0,value:K,placeholder:"\u9806\u4f4d",options:[{key:"1",text:"1",value:"1"},{key:"2",text:"2",value:"2"},{key:"3",text:"3",value:"3"},{key:"4",text:"4",value:"4"}],onChange:function(e,c){N(c.value)}})]})]})}),Object(x.jsxs)(w.a.Actions,{children:[Object(x.jsxs)(A.a,{color:"red",floated:"left",onClick:function(){j&&b.collection("accounts").doc(j).delete().then((function(){W()}))},children:[Object(x.jsx)(F.a,{name:"remove"}),"Delete"]}),Object(x.jsxs)(A.a,{color:"green",onClick:function(){var c={name:m,balance:B,prior:K,user:e.email,createdAt:O.firestore.Timestamp.now()};j?b.collection("accounts").doc(j).update(c):b.collection("accounts").add(c),W()},children:[Object(x.jsx)(F.a,{name:"check"}),"Save"]})]})]})]})})}var E=t(195),D=t(193);var B=function(){var e=o.a.useState(!1),c=Object(l.a)(e,2),t=c[0],n=c[1],a=o.a.useState(""),i=Object(l.a)(a,2),j=i[0],r=i[1],u=o.a.useState(""),d=Object(l.a)(u,2),O=d[0],h=d[1],m=o.a.useState(""),f=Object(l.a)(m,2),I=f[0],z=f[1],B=o.a.useState((new Date).toISOString().slice(0,10)),V=Object(l.a)(B,2),P=V[0],U=V[1],K=o.a.useState("income"),N=Object(l.a)(K,2),q=N[0],J=N[1],L=o.a.useState(""),M=Object(l.a)(L,2),W=M[0],$=M[1],Q=o.a.useState(0),T=Object(l.a)(Q,2),Y=T[0],G=T[1],H=o.a.useState([]),X=Object(l.a)(H,2),Z=X[0],_=X[1],ee=o.a.useState([]),ce=Object(l.a)(ee,2),te=ce[0],ne=ce[1];function ae(){n(!1),r(""),h(""),z("")}function le(e,c){var t=c.name;J(t)}return o.a.useEffect((function(){b.collection("topics").where("prior","<=","3").get().then((function(e){var c=e.docs.map((function(e){return e.data()}));ne(c),console.log(c)})),b.collection("posts").onSnapshot((function(e){var c=e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})}));_(c)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S.a,{}),Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(w.a,{closeIcon:!0,open:t,onClose:function(){n(!1),ae()},children:[Object(x.jsx)(S.a,{children:"\u7de8\u8f2f\u6536\u652f"}),Object(x.jsxs)(w.a.Content,{children:[Object(x.jsxs)(s.a,{fluid:!0,widths:2,pointing:!0,secondary:!0,children:[Object(x.jsx)(s.a.Item,{color:"teal",name:"income",active:"income"===q,onClick:le,children:"\u6536\u5165"}),Object(x.jsx)(s.a.Item,{color:"orange",name:"expense",active:"expense"===q,onClick:le,children:"\u652f\u51fa"})]}),Object(x.jsxs)(y.a,{size:"large",children:[Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u65e5\u671f"}),Object(x.jsx)("input",{type:"date",value:P,onChange:function(e){U(e.target.value)}})]}),Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u9805\u76ee"}),Object(x.jsx)("input",{value:O,onChange:function(e){h(e.target.value)}})]}),Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u91d1\u984d"}),Object(x.jsx)("input",{type:"number",value:I,onChange:function(e){z(e.target.value)}})]})]})]}),Object(x.jsxs)(w.a.Actions,{children:[j&&Object(x.jsxs)(A.a,{color:"red",floated:"left",onClick:function(){j&&b.collection("posts").doc(j).delete().then((function(){console.log("add"),ae()}))},children:[Object(x.jsx)(F.a,{name:"remove"}),"Delete"]}),Object(x.jsxs)(A.a,{color:"green",onClick:function(){var e={title:O,date:P};"income"==q?e.income=I:e.expense=I,j?b.collection("posts").doc(j).set(e).then((function(){ae()})):b.collection("posts").add(e).then((function(){ae()}))},children:[Object(x.jsx)(F.a,{name:"check"}),"Save"]})]})]}),Object(x.jsxs)(g.a,{columns:"equal",children:[Object(x.jsx)(g.a.Row,{children:te.map((function(e,c){return Object(x.jsx)(g.a.Column,{children:Object(x.jsx)(v.a,{textAlign:"center",onClick:function(){$(e.name),G(e.balance)},color:"teal",inverted:W===e.name,children:e.name})},c)}))}),W&&Object(x.jsxs)(g.a.Row,{children:[Object(x.jsx)(g.a.Column,{children:Object(x.jsx)(E.a,{horizontal:!0,children:Object(x.jsx)(E.a.Value,{children:R(Y)})})}),Object(x.jsx)(g.a.Column,{verticalAlign:"middle",children:Object(x.jsxs)(A.a,{floated:"right",color:"blue",onClick:function(){n(!0)},children:[Object(x.jsx)(F.a,{name:"plus"})," Create"]})})]}),Object(x.jsx)(g.a.Row,{children:Object(x.jsx)(g.a.Column,{children:Z.map((function(e,c){return Object(x.jsx)(D.a,{unstackable:!0,children:Object(x.jsx)(D.a.Body,{children:Object(x.jsxs)(D.a.Row,{onClick:function(){n(!0),r(e.id),h(e.title),U(e.date),e.income?(J("income"),z(e.income)):(J("expense"),z(e.expense))},children:[Object(x.jsxs)(D.a.Cell,{children:[Object(x.jsx)(S.a,{as:"h4",children:e.title}),e.date]}),Object(x.jsxs)(D.a.Cell,{textAlign:"right",children:[e.income?Object(x.jsx)(C.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(x.jsx)(C.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(x.jsx)("br",{}),"$"," ",e.income?e.income:e.expense+""]})]})})},c)}))})})]})]})]})};var V=function(){var e=o.a.useState(!1),c=Object(l.a)(e,2),t=c[0],n=c[1],a=o.a.useState(""),i=Object(l.a)(a,2),j=i[0],r=i[1],u=o.a.useState(""),d=Object(l.a)(u,2),O=d[0],h=d[1],m=o.a.useState(""),f=Object(l.a)(m,2),I=f[0],z=f[1],B=o.a.useState(),V=Object(l.a)(B,2),P=V[0],U=V[1],K=o.a.useState((new Date).toISOString().slice(0,10)),N=Object(l.a)(K,2),q=N[0],J=N[1],L=o.a.useState("income"),M=Object(l.a)(L,2),W=M[0],$=M[1],Q=o.a.useState()||null,T=Object(l.a)(Q,2),Y=T[0],G=T[1],H=o.a.useState(""),X=Object(l.a)(H,2),Z=X[0],_=X[1],ee=o.a.useState(0),ce=Object(l.a)(ee,2),te=(ce[0],ce[1]),ne=o.a.useState([]),ae=Object(l.a)(ne,2),le=ae[0],ie=ae[1],oe=o.a.useState([]),se=Object(l.a)(oe,2),je=se[0],re=se[1];function ue(){n(!1),r(""),h(""),z("")}function be(e,c){var t=c.name;$(t)}return o.a.useEffect((function(){b.collection("accounts").where("prior","<=","3").get().then((function(e){var c=e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})}));re(c),console.log(je)})),Y?b.collection("balances").where("account.id","==",Y.id).onSnapshot((function(e){var c=e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})}));ie(c)})):b.collection("balances").onSnapshot((function(e){var c=e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})}));ie(c)}))}),[Y]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S.a,{}),Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(w.a,{closeIcon:!0,open:t,onClose:function(){n(!1),ue()},children:[Object(x.jsx)(S.a,{children:"\u7de8\u8f2f\u6536\u652f"}),Object(x.jsxs)(w.a.Content,{children:[Object(x.jsxs)(s.a,{fluid:!0,widths:2,pointing:!0,secondary:!0,children:[Object(x.jsx)(s.a.Item,{color:"teal",name:"income",active:"income"===W,onClick:be,children:"\u6536\u5165"}),Object(x.jsx)(s.a.Item,{color:"orange",name:"expense",active:"expense"===W,onClick:be,children:"\u652f\u51fa"})]}),Object(x.jsxs)(y.a,{size:"large",children:[Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u65e5\u671f"}),Object(x.jsx)("input",{type:"date",value:q,onChange:function(e){J(e.target.value)}})]}),Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u9805\u76ee"}),Object(x.jsx)("input",{value:O,onChange:function(e){h(e.target.value)}})]}),Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"\u91d1\u984d"}),Object(x.jsx)("input",{type:"number",value:I,onChange:function(e){z(e.target.value)}})]})]})]}),Object(x.jsxs)(w.a.Actions,{children:[j&&Object(x.jsxs)(A.a,{color:"red",floated:"left",onClick:function(){j&&b.collection("balances").doc(j).delete().then((function(){console.log("add"),ue()}))},children:[Object(x.jsx)(F.a,{name:"remove"}),"Delete"]}),Object(x.jsxs)(A.a,{color:"green",onClick:function(){var e={title:O,date:q};"income"==W?e.income=I:e.expense=I,P&&(e.account=P),Y&&(e.account=Y),j?b.collection("balances").doc(j).set(e).then((function(){ue()})):b.collection("balances").add(e).then((function(){ue()}))},children:[Object(x.jsx)(F.a,{name:"check"}),"Save"]})]})]}),Object(x.jsxs)(g.a,{columns:"equal",children:[Object(x.jsx)(g.a.Row,{children:je.map((function(e,c){return Object(x.jsx)(g.a.Column,{children:Object(x.jsx)(v.a,{textAlign:"center",onClick:function(){_(e.name),te(e.balance),G(e)},color:"teal",inverted:Z===e.name,children:e.name})},c)}))}),Z&&Object(x.jsxs)(g.a.Row,{children:[Object(x.jsx)(g.a.Column,{children:Object(x.jsx)(E.a,{horizontal:!0,children:Object(x.jsx)(E.a.Value,{children:R(Y.balance)})})}),Object(x.jsx)(g.a.Column,{verticalAlign:"middle",children:Object(x.jsxs)(A.a,{floated:"right",color:"blue",onClick:function(){n(!0)},children:[Object(x.jsx)(F.a,{name:"plus"})," Create"]})})]}),Object(x.jsx)(g.a.Row,{children:Object(x.jsx)(g.a.Column,{children:le.map((function(e,c){return Object(x.jsx)(D.a,{unstackable:!0,children:Object(x.jsx)(D.a.Body,{children:Object(x.jsxs)(D.a.Row,{onClick:function(){n(!0),r(e.id),h(e.title),J(e.date),U(e.account),e.income?($("income"),z(e.income)):($("expense"),z(e.expense))},children:[Object(x.jsxs)(D.a.Cell,{children:[Object(x.jsx)(S.a,{as:"h4",children:e.title}),Object(x.jsxs)("span",{children:[e.date," "]}),!Y&&Object(x.jsx)(C.a,{children:e.account&&e.account.name})]}),Object(x.jsxs)(D.a.Cell,{textAlign:"right",children:[e.income?Object(x.jsx)(C.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(x.jsx)(C.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(x.jsx)("br",{}),"$ ",e.income?R(e.income):R(e.expense)+""]})]})})},c)}))})})]})]})]})};function P(){var e=Object(h.f)(),c=o.a.useRef(),t=o.a.useRef();return Object(x.jsx)(k.a,{children:Object(x.jsx)(g.a,{columns:3,children:Object(x.jsxs)(g.a.Row,{children:[Object(x.jsx)(g.a.Column,{mobile:16,tablet:3,computer:5}),Object(x.jsx)(g.a.Column,{mobile:16,tablet:10,computer:6,children:Object(x.jsx)(v.a,{children:Object(x.jsxs)(y.a,{size:"large",children:[Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",{ref:c,defaultValue:"mkdodos@gmail.com"})]}),Object(x.jsxs)(y.a.Field,{children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{ref:t,defaultValue:"123456"})]}),Object(x.jsx)(A.a,{onClick:function(){d.signInWithEmailAndPassword(c.current.value,t.current.value).then((function(c){e.push("/user"),console.log(c.user.email)}))},size:"large",color:"blue",children:"Mark"}),Object(x.jsx)(A.a,{basic:!0,floated:"right",onClick:function(){d.signInWithEmailAndPassword("dada@gmail.com","123456").then((function(c){console.log(c.user.email),e.push("/user")}))},size:"large",color:"blue",children:"Dada"})]})})}),Object(x.jsx)(g.a.Column,{mobile:16,tablet:3,computer:5})]})})})}var U=function(){var e=Object(h.f)(),c=d.currentUser;return Object(x.jsx)(k.a,{children:Object(x.jsx)(A.a,{onClick:function(){d.signOut().then((function(){e.push("/login")}))},children:c&&c.email})})};var K=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(m,{}),Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{path:"/accounts",component:z}),Object(x.jsx)(h.a,{path:"/balances",component:V}),Object(x.jsx)(h.a,{path:"/login",component:P}),Object(x.jsx)(h.a,{path:"/user",component:U}),Object(x.jsx)(h.a,{path:"/posts",component:B})]})]})})},N=(t(175),document.getElementById("root"));a.a.render(Object(x.jsx)(K,{}),N)}},[[176,1,2]]]);
//# sourceMappingURL=main.b7a6c229.chunk.js.map