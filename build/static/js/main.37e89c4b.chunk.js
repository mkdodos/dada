(this["webpackJsonpsocial-cool"]=this["webpackJsonpsocial-cool"]||[]).push([[0],{174:function(e,c,t){"use strict";t.r(c);var n=t(60),a=t.n(n),l=t(12),o=t(0),i=t.n(o),s=t(188),j=t(84),r=t(3);var b=function(){var e=i.a.useState(""),c=Object(l.a)(e,2),t=c[0],n=c[1];function a(e,c){var t=c.name;n(t)}return Object(r.jsxs)(s.a,{secondary:!0,pointing:!0,widths:4,children:[Object(r.jsx)(s.a.Item,{as:j.b,to:"/accounts",name:"accounts",onClick:a,active:"accounts"===t,children:"\u5e33\u6236"}),Object(r.jsx)(s.a.Item,{as:j.b,to:"/balances",name:"balances",onClick:a,active:"balances"===t,children:"\u6536\u652f"}),Object(r.jsx)(s.a.Item,{name:"login",as:j.b,to:"/login",onClick:a,active:"login"===t,children:"Login"}),Object(r.jsx)(s.a.Menu,{position:"right",children:Object(r.jsx)(s.a.Item,{name:"logout"})})]})},d=t(144),u=t(31),O=t(194),h=t(195),x=t(113),m=t(197),p=t(186),f=t(190),g=t(189),v=t(187),C=t(192),S=t(87),k=t(123);t(175);k.a.initializeApp({apiKey:"AIzaSyBKVsNm8RP9VKYBgEwmyRQsitx9dncLuaI",authDomain:"social-cool-f16ba.firebaseapp.com",projectId:"social-cool-f16ba",storageBucket:"social-cool-f16ba.appspot.com",messagingSenderId:"578558980743",appId:"1:578558980743:web:4668ba80e8df3c24087e22"});var w=k.a.firestore(),y=(w.collection("topics").get().then((function(e){e.docs.map((function(e){return e.data()}))})),k.a),I=function(e){return new Intl.NumberFormat("en-US",{currency:"USD"}).format(e)};function A(){var e=i.a.useState(!1),c=Object(l.a)(e,2),t=c[0],n=c[1],a=i.a.useState(""),o=Object(l.a)(a,2),s=o[0],j=o[1],b=i.a.useState(""),k=Object(l.a)(b,2),A=k[0],F=k[1],R=i.a.useState(""),z=Object(l.a)(R,2),B=z[0],D=z[1],E=i.a.useState(""),V=Object(l.a)(E,2),K=V[0],L=V[1],N=i.a.useState([]),q=Object(l.a)(N,2),J=q[0],P=q[1];function T(){n(!1),F(""),D(""),L("")}i.a.useEffect((function(){w.collection("accounts").orderBy("prior").onSnapshot((function(e){var c=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})})),t=[],a=0,l=[];0==c.length&&(l.push(Object(r.jsx)(O.a.Column,{children:Object(r.jsxs)(h.a,{textAlign:"center",onClick:function(){n(!0)},children:[Object(r.jsx)(x.a,{attached:"top",children:"\u65b0\u589e"}),Object(r.jsx)(m.a,{children:"+"})]})},"0")),t.push(Object(r.jsx)(O.a.Row,{children:l},a)));var o,i=Object(d.a)(c);try{var s=function(){var e=o.value;0==a&&l.push(Object(r.jsx)(O.a.Column,{children:Object(r.jsxs)(h.a,{textAlign:"center",onClick:function(){n(!0)},children:[Object(r.jsx)(x.a,{attached:"top",children:"\u65b0\u589e"}),Object(r.jsx)(m.a,{children:"+"})]})},"0")),l.push(Object(r.jsx)(O.a.Column,{children:Object(r.jsxs)(h.a,{textAlign:"center",onClick:function(){n(!0),j(e.id),F(e.name),L(e.prior),D(e.balance)},children:[Object(r.jsx)(x.a,{color:"teal",attached:"top",children:e.name}),Object(r.jsx)(m.a,{children:I(e.balance)})]})},a+1)),a%3!=1&&a!=c.length-1||(t.push(Object(r.jsx)(O.a.Row,{children:l},a)),l=[]),a++};for(i.s();!(o=i.n()).done;)s()}catch(b){i.e(b)}finally{i.f()}P(t)}))}),[]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(p.a,{children:[Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(O.a,{columns:3,children:J})}),Object(r.jsxs)(f.a,{closeIcon:!0,open:t,onClose:function(){n(!1),T()},children:[Object(r.jsx)(m.a,{children:"\u7de8\u8f2f\u5e33\u6236"}),Object(r.jsx)(f.a.Content,{children:Object(r.jsxs)(g.a,{size:"large",children:[Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u5e33\u6236\u540d\u7a31"}),Object(r.jsx)("input",{value:A,onChange:function(e){F(e.target.value)},placeholder:"please enter your name"})]}),Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u9918\u984d"}),Object(r.jsx)("input",{type:"number",value:B,onChange:function(e){D(e.target.value)},placeholder:"please enter your amount"})]}),Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u9806\u4f4d"}),Object(r.jsx)(v.a,{selection:!0,value:K,placeholder:"\u9806\u4f4d",options:[{key:"1",text:"1",value:"1"},{key:"2",text:"2",value:"2"},{key:"3",text:"3",value:"3"},{key:"4",text:"4",value:"4"}],onChange:function(e,c){L(c.value)}})]})]})}),Object(r.jsxs)(f.a.Actions,{children:[Object(r.jsxs)(C.a,{color:"red",floated:"left",onClick:function(){s&&w.collection("accounts").doc(s).delete().then((function(){T()}))},children:[Object(r.jsx)(S.a,{name:"remove"}),"Delete"]}),Object(r.jsxs)(C.a,{color:"green",onClick:function(){s?w.collection("accounts").doc(s).update({name:A,balance:B,prior:K,updatedAt:y.firestore.Timestamp.now()}):w.collection("accounts").add({name:A,balance:B,prior:K,createdAt:y.firestore.Timestamp.now()}),T()},children:[Object(r.jsx)(S.a,{name:"check"}),"Save"]})]})]})]})})}var F=t(13),R=t(193),z=t(191);var B=function(){var e=i.a.useState(!1),c=Object(l.a)(e,2),t=c[0],n=c[1],a=i.a.useState(""),o=Object(l.a)(a,2),j=o[0],b=o[1],d=i.a.useState(""),v=Object(l.a)(d,2),k=v[0],y=v[1],A=i.a.useState(""),F=Object(l.a)(A,2),B=F[0],D=F[1],E=i.a.useState((new Date).toISOString().slice(0,10)),V=Object(l.a)(E,2),K=V[0],L=V[1],N=i.a.useState("income"),q=Object(l.a)(N,2),J=q[0],P=q[1],T=i.a.useState(""),U=Object(l.a)(T,2),$=U[0],M=U[1],Q=i.a.useState(0),Y=Object(l.a)(Q,2),G=Y[0],H=Y[1],W=i.a.useState([]),X=Object(l.a)(W,2),Z=X[0],_=X[1],ee=i.a.useState([]),ce=Object(l.a)(ee,2),te=ce[0],ne=ce[1];function ae(){n(!1),b(""),y(""),D("")}function le(e,c){var t=c.name;P(t)}return i.a.useEffect((function(){w.collection("topics").where("prior","<=","3").get().then((function(e){var c=e.docs.map((function(e){return e.data()}));ne(c),console.log(c)})),w.collection("posts").onSnapshot((function(e){var c=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})}));_(c)}))}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.a,{}),Object(r.jsxs)(p.a,{children:[Object(r.jsxs)(f.a,{closeIcon:!0,open:t,onClose:function(){n(!1),ae()},children:[Object(r.jsx)(m.a,{children:"\u7de8\u8f2f\u6536\u652f"}),Object(r.jsxs)(f.a.Content,{children:[Object(r.jsxs)(s.a,{fluid:!0,widths:2,pointing:!0,secondary:!0,children:[Object(r.jsx)(s.a.Item,{color:"teal",name:"income",active:"income"===J,onClick:le,children:"\u6536\u5165"}),Object(r.jsx)(s.a.Item,{color:"orange",name:"expense",active:"expense"===J,onClick:le,children:"\u652f\u51fa"})]}),Object(r.jsxs)(g.a,{size:"large",children:[Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u65e5\u671f"}),Object(r.jsx)("input",{type:"date",value:K,onChange:function(e){L(e.target.value)}})]}),Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u9805\u76ee"}),Object(r.jsx)("input",{value:k,onChange:function(e){y(e.target.value)}})]}),Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u91d1\u984d"}),Object(r.jsx)("input",{type:"number",value:B,onChange:function(e){D(e.target.value)}})]})]})]}),Object(r.jsxs)(f.a.Actions,{children:[j&&Object(r.jsxs)(C.a,{color:"red",floated:"left",onClick:function(){j&&w.collection("posts").doc(j).delete().then((function(){console.log("add"),ae()}))},children:[Object(r.jsx)(S.a,{name:"remove"}),"Delete"]}),Object(r.jsxs)(C.a,{color:"green",onClick:function(){var e={title:k,date:K};"income"==J?e.income=B:e.expense=B,j?w.collection("posts").doc(j).set(e).then((function(){ae()})):w.collection("posts").add(e).then((function(){ae()}))},children:[Object(r.jsx)(S.a,{name:"check"}),"Save"]})]})]}),Object(r.jsxs)(O.a,{columns:"equal",children:[Object(r.jsx)(O.a.Row,{children:te.map((function(e,c){return Object(r.jsx)(O.a.Column,{children:Object(r.jsx)(h.a,{textAlign:"center",onClick:function(){M(e.name),H(e.balance)},color:"teal",inverted:$===e.name,children:e.name})},c)}))}),$&&Object(r.jsxs)(O.a.Row,{children:[Object(r.jsx)(O.a.Column,{children:Object(r.jsx)(R.a,{horizontal:!0,children:Object(r.jsx)(R.a.Value,{children:I(G)})})}),Object(r.jsx)(O.a.Column,{verticalAlign:"middle",children:Object(r.jsxs)(C.a,{floated:"right",color:"blue",onClick:function(){n(!0)},children:[Object(r.jsx)(S.a,{name:"plus"})," Create"]})})]}),Object(r.jsx)(O.a.Row,{children:Object(r.jsx)(O.a.Column,{children:Z.map((function(e,c){return Object(r.jsx)(z.a,{unstackable:!0,children:Object(r.jsx)(z.a.Body,{children:Object(r.jsxs)(z.a.Row,{onClick:function(){n(!0),b(e.id),y(e.title),L(e.date),e.income?(P("income"),D(e.income)):(P("expense"),D(e.expense))},children:[Object(r.jsxs)(z.a.Cell,{children:[Object(r.jsx)(m.a,{as:"h4",children:e.title}),e.date]}),Object(r.jsxs)(z.a.Cell,{textAlign:"right",children:[e.income?Object(r.jsx)(x.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(r.jsx)(x.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(r.jsx)("br",{}),"$"," ",e.income?e.income:e.expense+""]})]})})},c)}))})})]})]})]})};var D=function(){var e=i.a.useState(!1),c=Object(l.a)(e,2),t=c[0],n=c[1],a=i.a.useState(""),o=Object(l.a)(a,2),j=o[0],b=o[1],d=i.a.useState(""),v=Object(l.a)(d,2),k=v[0],y=v[1],A=i.a.useState(""),F=Object(l.a)(A,2),B=F[0],D=F[1],E=i.a.useState(),V=Object(l.a)(E,2),K=V[0],L=V[1],N=i.a.useState((new Date).toISOString().slice(0,10)),q=Object(l.a)(N,2),J=q[0],P=q[1],T=i.a.useState("income"),U=Object(l.a)(T,2),$=U[0],M=U[1],Q=i.a.useState()||null,Y=Object(l.a)(Q,2),G=Y[0],H=Y[1],W=i.a.useState(""),X=Object(l.a)(W,2),Z=X[0],_=X[1],ee=i.a.useState(0),ce=Object(l.a)(ee,2),te=(ce[0],ce[1]),ne=i.a.useState([]),ae=Object(l.a)(ne,2),le=ae[0],oe=ae[1],ie=i.a.useState([]),se=Object(l.a)(ie,2),je=se[0],re=se[1];function be(){n(!1),b(""),y(""),D("")}function de(e,c){var t=c.name;M(t)}return i.a.useEffect((function(){w.collection("accounts").where("prior","<=","3").get().then((function(e){var c=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})}));re(c),console.log(je)})),G?w.collection("balances").where("account.id","==",G.id).onSnapshot((function(e){var c=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})}));oe(c)})):w.collection("balances").onSnapshot((function(e){var c=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})}));oe(c)}))}),[G]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.a,{}),Object(r.jsxs)(p.a,{children:[Object(r.jsxs)(f.a,{closeIcon:!0,open:t,onClose:function(){n(!1),be()},children:[Object(r.jsx)(m.a,{children:"\u7de8\u8f2f\u6536\u652f"}),Object(r.jsxs)(f.a.Content,{children:[Object(r.jsxs)(s.a,{fluid:!0,widths:2,pointing:!0,secondary:!0,children:[Object(r.jsx)(s.a.Item,{color:"teal",name:"income",active:"income"===$,onClick:de,children:"\u6536\u5165"}),Object(r.jsx)(s.a.Item,{color:"orange",name:"expense",active:"expense"===$,onClick:de,children:"\u652f\u51fa"})]}),Object(r.jsxs)(g.a,{size:"large",children:[Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u65e5\u671f"}),Object(r.jsx)("input",{type:"date",value:J,onChange:function(e){P(e.target.value)}})]}),Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u9805\u76ee"}),Object(r.jsx)("input",{value:k,onChange:function(e){y(e.target.value)}})]}),Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"\u91d1\u984d"}),Object(r.jsx)("input",{type:"number",value:B,onChange:function(e){D(e.target.value)}})]})]})]}),Object(r.jsxs)(f.a.Actions,{children:[j&&Object(r.jsxs)(C.a,{color:"red",floated:"left",onClick:function(){j&&w.collection("balances").doc(j).delete().then((function(){console.log("add"),be()}))},children:[Object(r.jsx)(S.a,{name:"remove"}),"Delete"]}),Object(r.jsxs)(C.a,{color:"green",onClick:function(){var e={title:k,date:J};"income"==$?e.income=B:e.expense=B,K&&(e.account=K),G&&(e.account=G),j?w.collection("balances").doc(j).set(e).then((function(){be()})):w.collection("balances").add(e).then((function(){be()}))},children:[Object(r.jsx)(S.a,{name:"check"}),"Save"]})]})]}),Object(r.jsxs)(O.a,{columns:"equal",children:[Object(r.jsx)(O.a.Row,{children:je.map((function(e,c){return Object(r.jsx)(O.a.Column,{children:Object(r.jsx)(h.a,{textAlign:"center",onClick:function(){_(e.name),te(e.balance),H(e)},color:"teal",inverted:Z===e.name,children:e.name})},c)}))}),Z&&Object(r.jsxs)(O.a.Row,{children:[Object(r.jsx)(O.a.Column,{children:Object(r.jsx)(R.a,{horizontal:!0,children:Object(r.jsx)(R.a.Value,{children:I(G.balance)})})}),Object(r.jsx)(O.a.Column,{verticalAlign:"middle",children:Object(r.jsxs)(C.a,{floated:"right",color:"blue",onClick:function(){n(!0)},children:[Object(r.jsx)(S.a,{name:"plus"})," Create"]})})]}),Object(r.jsx)(O.a.Row,{children:Object(r.jsx)(O.a.Column,{children:le.map((function(e,c){return Object(r.jsx)(z.a,{unstackable:!0,children:Object(r.jsx)(z.a.Body,{children:Object(r.jsxs)(z.a.Row,{onClick:function(){n(!0),b(e.id),y(e.title),P(e.date),L(e.account),e.income?(M("income"),D(e.income)):(M("expense"),D(e.expense))},children:[Object(r.jsxs)(z.a.Cell,{children:[Object(r.jsx)(m.a,{as:"h4",children:e.title}),Object(r.jsxs)("span",{children:[e.date," "]}),!G&&Object(r.jsx)(x.a,{children:e.account&&e.account.name})]}),Object(r.jsxs)(z.a.Cell,{textAlign:"right",children:[e.income?Object(r.jsx)(x.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(r.jsx)(x.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(r.jsx)("br",{}),"$ ",e.income?I(e.income):I(e.expense)+""]})]})})},c)}))})})]})]})]})};function E(){return Object(r.jsx)(p.a,{children:Object(r.jsx)(O.a,{columns:3,children:Object(r.jsxs)(O.a.Row,{children:[Object(r.jsx)(O.a.Column,{mobile:16,tablet:3,computer:5}),Object(r.jsx)(O.a.Column,{mobile:16,tablet:10,computer:6,children:Object(r.jsx)(h.a,{children:Object(r.jsxs)(g.a,{size:"large",children:[Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"Email"}),Object(r.jsx)("input",{})]}),Object(r.jsxs)(g.a.Field,{children:[Object(r.jsx)("label",{children:"Password"}),Object(r.jsx)("input",{})]}),Object(r.jsx)(C.a,{size:"large",fluid:!0,color:"blue",children:"Login"})]})})}),Object(r.jsx)(O.a.Column,{mobile:16,tablet:3,computer:5})]})})})}var V=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(j.a,{children:[Object(r.jsx)(b,{}),Object(r.jsxs)(F.c,{children:[Object(r.jsx)(F.a,{path:"/accounts",component:A}),Object(r.jsx)(F.a,{path:"/balances",component:D}),Object(r.jsx)(F.a,{path:"/login",component:E}),Object(r.jsx)(F.a,{path:"/posts",component:B})]})]})})},K=(t(173),document.getElementById("root"));a.a.render(Object(r.jsx)(V,{}),K)}},[[174,1,2]]]);
//# sourceMappingURL=main.37e89c4b.chunk.js.map